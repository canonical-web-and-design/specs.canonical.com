{% extends "_base.html" %} {% block content %}
<div class="l-fluid-breakout__toolbar u-no-margin--bottom">
  <div class="l-fluid-breakout__toolbar-items">
    <div class="l-fluid-breakout__toolbar-item">
      <span class="filtered-count"></span>&nbsp;specs
    </div>
    <div class="l-fluid-breakout__toolbar-item">
      <form class="p-search-box" action="javascript: search()">
        <label class="u-off-screen" for="q">Search</label>
        <input
          type="search"
          id="q"
          class="p-search-box__input"
          name="q"
          placeholder="Search"
          required=""
          autocomplete="on"
          value="{{ query }}"
        />
        <button type="reset" class="p-search-box__reset">
          <i class="p-icon--close">Close</i>
        </button>
        <button type="submit" class="p-search-box__button">
          <i class="p-icon--search">Search</i>
        </button>
      </form>
      <script>
        function initSearchResetButtons(selector) {
          var resetButtons = [].slice.call(document.querySelectorAll(selector));

          resetButtons.forEach(function (button) {
            button.addEventListener("click", function () {
              search(true);
            });
          });
        }

        document.addEventListener("DOMContentLoaded", function () {
          initSearchResetButtons(".p-search-box__reset");
        });
      </script>
    </div>
  </div>
</div>

<div class="l-fluid-breakout__aside">{% include "_filters.html" %}</div>
<div class="l-fluid-breakout__main" id="cards">
  {% for spec in specs %} {% with spec=spec %} {% include "_card.html" %} {%
  endwith %} {% endfor %}
</div>
<template id="no-results">
  <div
    class="l-fluid-breakout__main u-align-text--center"
    id="no-results-message"
  >
    <strong>No specs found</strong>
  </div>
</template>
{% endblock content %}
